<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="906px" preserveAspectRatio="none" style="width:1269px;height:906px;background:#FFFFFF;" version="1.1" viewBox="0 0 1269 906" width="1269px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="815.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="20.5" y="46.2969"/><rect fill="#FFFFFF" height="785.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="149.5" y="67.4297"/><rect fill="#FFFFFF" height="685.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="360.5" y="138.6953"/><rect fill="#FFFFFF" height="584.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="209.9609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="811.5" y="506.0234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="896" y="239.0938"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="989.5" y="363.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1090.5" y="565.1563"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1090.5" y="680.3594"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1199" y="422.7578"/><rect fill="none" height="441.2656" style="stroke:#000000;stroke-width:1.5;" width="755" x="508" y="325.3594"/><rect fill="none" height="291.8672" style="stroke:#000000;stroke-width:1.5;" width="637" x="518" y="467.7578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="25" x2="25" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="154" x2="154" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="365.5" x2="365.5" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="576" x2="576" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="816" x2="816" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="901" x2="901" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="994" x2="994" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1095" x2="1095" y1="36.2969" y2="871.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1204" x2="1204" y1="36.2969" y2="871.0234"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="12" y="24.9951">SPA</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="5" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="12" y="890.0186">SPA</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="120" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="127" y="24.9951">MPT API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="120" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="127" y="890.0186">MPT API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="308.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="315.5" y="24.9951">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="308.5" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="315.5" y="890.0186">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="528" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="535" y="24.9951">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="528" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="535" y="890.0186">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="784" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="791" y="24.9951">MGI API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="784" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="791" y="890.0186">MGI API</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="859" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="866" y="24.9951">TaskRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="859" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="866" y="890.0186">TaskRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="953" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="960" y="24.9951">UserRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="953" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="960" y="890.0186">UserRepo</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1046" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1053" y="24.9951">TaskMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1046" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1053" y="890.0186">TaskMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1155" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1162" y="24.9951">UserMapper</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1155" y="870.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1162" y="890.0186">UserMapper</text><rect fill="#FFFFFF" height="815.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="20.5" y="46.2969"/><rect fill="#FFFFFF" height="785.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="149.5" y="67.4297"/><rect fill="#FFFFFF" height="685.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="360.5" y="138.6953"/><rect fill="#FFFFFF" height="584.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="209.9609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="811.5" y="506.0234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="896" y="239.0938"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="989.5" y="363.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1090.5" y="565.1563"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1090.5" y="680.3594"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1199" y="422.7578"/><polygon fill="#181818" points="137.5,63.4297,147.5,67.4297,137.5,71.4297,141.5,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="30.5" x2="143.5" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="37.5" y="62.3638">GET(/api/tasks/)</text><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="201.5" y1="96.5625" y2="96.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="201.5" x2="201.5" y1="96.5625" y2="109.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="160.5" x2="201.5" y1="109.5625" y2="109.5625"/><polygon fill="#181818" points="170.5,105.5625,160.5,109.5625,170.5,113.5625,166.5,109.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="166.5" y="91.4966">auth middleware</text><polygon fill="#181818" points="348.5,134.6953,358.5,138.6953,348.5,142.6953,352.5,138.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="159.5" x2="354.5" y1="138.6953" y2="138.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="166.5" y="133.6294">GetAll(type?,prending,user?)</text><line style="stroke:#181818;stroke-width:1.0;" x1="370.5" x2="412.5" y1="167.8281" y2="167.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="412.5" x2="412.5" y1="167.8281" y2="180.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="371.5" x2="412.5" y1="180.8281" y2="180.8281"/><polygon fill="#181818" points="381.5,176.8281,371.5,180.8281,381.5,184.8281,377.5,180.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="377.5" y="162.7622">permissions middleware</text><polygon fill="#181818" points="559.5,205.9609,569.5,209.9609,559.5,213.9609,563.5,209.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370.5" x2="565.5" y1="209.9609" y2="209.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="377.5" y="204.895">GetAll(type?,prending,user?)</text><polygon fill="#181818" points="884,235.0938,894,239.0938,884,243.0938,888,239.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="890" y1="239.0938" y2="239.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="588.5" y="234.0278">GetAllAsync(type?,prending,user?)</text><polygon fill="#181818" points="592.5,264.2266,582.5,268.2266,592.5,272.2266,588.5,268.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586.5" x2="900" y1="268.2266" y2="268.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="598.5" y="263.1606">Task</text><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="623.5" y1="297.3594" y2="297.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.5" x2="623.5" y1="297.3594" y2="310.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="582.5" x2="623.5" y1="310.3594" y2="310.3594"/><polygon fill="#181818" points="592.5,306.3594,582.5,310.3594,592.5,314.3594,588.5,310.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="588.5" y="292.2935">new List tasksDto</text><path d="M508,325.3594 L585,325.3594 L585,332.4922 L575,342.4922 L508,342.4922 L508,325.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="441.2656" style="stroke:#000000;stroke-width:1.5;" width="755" x="508" y="325.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="523" y="338.4263">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="97" x="600" y="337.5698">[for each Task]</text><polygon fill="#181818" points="977.5,359.625,987.5,363.625,977.5,367.625,981.5,363.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="983.5" y1="363.625" y2="363.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="588.5" y="358.5591">getUserById(ID)</text><polygon fill="#181818" points="1187,418.7578,1197,422.7578,1187,426.7578,1191,422.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="1193" y1="422.7578" y2="422.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="588.5" y="417.6919">ToDtoTaskInfo(user)</text><path d="M518,467.7578 L582,467.7578 L582,474.8906 L572,484.8906 L518,484.8906 L518,467.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="291.8672" style="stroke:#000000;stroke-width:1.5;" width="637" x="518" y="467.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="533" y="480.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="168" x="597" y="479.9683">[Task is SurveillanceTask]</text><polygon fill="#181818" points="799.5,502.0234,809.5,506.0234,799.5,510.0234,803.5,506.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="805.5" y1="506.0234" y2="506.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="588.5" y="500.9575">GET(/api/floor/:id)</text><polygon fill="#181818" points="1078.5,561.1563,1088.5,565.1563,1078.5,569.1563,1082.5,565.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="1084.5" y1="565.1563" y2="565.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="588.5" y="560.0903">toFullDTO(task, floor, user)</text><polygon fill="#181818" points="592.5,590.2891,582.5,594.2891,592.5,598.2891,588.5,594.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586.5" x2="1094.5" y1="594.2891" y2="594.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="598.5" y="589.2231">SurveillanceTask</text><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="623.5" y1="623.4219" y2="623.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.5" x2="623.5" y1="623.4219" y2="636.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="582.5" x2="623.5" y1="636.4219" y2="636.4219"/><polygon fill="#181818" points="592.5,632.4219,582.5,636.4219,592.5,640.4219,588.5,636.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="588.5" y="618.356">tasksDto.add(SurveillanceTask)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="518" x2="1155" y1="645.4219" y2="645.4219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="523" y="655.6323">[Task is PickupDeliveryTask]</text><polygon fill="#181818" points="1078.5,676.3594,1088.5,680.3594,1078.5,684.3594,1082.5,680.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="1084.5" y1="680.3594" y2="680.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="588.5" y="675.2935">toFullDTO(task, user)</text><polygon fill="#181818" points="592.5,705.4922,582.5,709.4922,592.5,713.4922,588.5,709.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="586.5" x2="1094.5" y1="709.4922" y2="709.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="598.5" y="704.4263">PickupDeliveryTask</text><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="623.5" y1="738.625" y2="738.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.5" x2="623.5" y1="738.625" y2="751.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="582.5" x2="623.5" y1="751.625" y2="751.625"/><polygon fill="#181818" points="592.5,747.625,582.5,751.625,592.5,755.625,588.5,751.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="588.5" y="733.5591">tasksDto.add(PickupDeliveryTask)</text><polygon fill="#181818" points="381.5,790.7578,371.5,794.7578,381.5,798.7578,377.5,794.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375.5" x2="575.5" y1="794.7578" y2="794.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="387.5" y="789.6919">tasksDto</text><polygon fill="#181818" points="170.5,819.8906,160.5,823.8906,170.5,827.8906,166.5,823.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="164.5" x2="364.5" y1="823.8906" y2="823.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="176.5" y="818.8247">status code 200</text><polygon fill="#181818" points="41.5,849.0234,31.5,853.0234,41.5,857.0234,37.5,853.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="35.5" x2="153.5" y1="853.0234" y2="853.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="47.5" y="847.9575">success</text><!--MD5=[e55bdac2ac3f358ebc23dd0dc8395d3d]
@startuml
participant SPA
participant "MPT API" as API
participant "TaskController" as Ctrl
participant "TaskService" as Srv
participant "MGI API" as API2

participant "TaskRepo" as Repo
participant "UserRepo" as ur
participant "TaskMapper" as Map
participant "UserMapper" as um

activate SPA
SPA -> API: GET(/api/tasks/)
activate API

API -> API: auth middleware 
API -> Ctrl: GetAll(type?,prending,user?)
activate Ctrl

Ctrl -> Ctrl: permissions middleware 
Ctrl -> Srv: GetAll(type?,prending,user?)
activate Srv

Srv -> Repo: GetAllAsync(type?,prending,user?)
activate Repo
Repo - -> Srv: Task
deactivate Repo

Srv -> Srv: new List tasksDto

loop for each Task

    Srv -> ur: getUserById(ID)
    activate ur
    deactivate ur
    Srv -> um: ToDtoTaskInfo(user)
    activate um
    deactivate um

    alt Task is SurveillanceTask

        Srv -> API2: GET(/api/floor/:id)
        activate API2
        deactivate API2

        Srv -> Map: toFullDTO(task, floor, user)
        activate Map
        Map - -> Srv: SurveillanceTask
        deactivate Map

        Srv -> Srv: tasksDto.add(SurveillanceTask)
    else Task is PickupDeliveryTask
        Srv -> Map: toFullDTO(task, user)
        activate Map
        Map - -> Srv: PickupDeliveryTask
        deactivate Map

        Srv -> Srv: tasksDto.add(PickupDeliveryTask)
    end

end

Srv - -> Ctrl: tasksDto
deactivate Srv

Ctrl - -> API: status code 200
deactivate Ctrl

API - -> SPA: success
deactivate API

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>