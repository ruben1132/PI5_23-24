<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1035px" preserveAspectRatio="none" style="width:1765px;height:1035px;background:#FFFFFF;" version="1.1" viewBox="0 0 1765 1035" width="1765px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="927.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="41.5" y="55.1563"/><rect fill="#FFFFFF" height="880.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="230.5" y="86.3125"/><rect fill="#FFFFFF" height="749.9688" style="stroke:#181818;stroke-width:1.0;" width="10" x="405.5" y="177.625"/><rect fill="#FFFFFF" height="619.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="640.5" y="268.9375"/><rect fill="#FFFFFF" height="91.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213.5" y="679.6563"/><rect fill="#FFFFFF" height="39.1563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377.5" y="601.3438"/><rect fill="#FFFFFF" height="39.1563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377.5" y="810.125"/><rect fill="none" height="638.6563" style="stroke:#000000;stroke-width:1.5;" width="1444" x="10" y="336.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="235.5" x2="235.5" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="410.5" x2="410.5" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="645.5" x2="645.5" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1218.5" x2="1218.5" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1382" x2="1382" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1485" x2="1485" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1576" x2="1576" y1="45.1563" y2="991.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1698" x2="1698" y1="45.1563" y2="991.75"/><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="39" x="27" y="32.7617">SPA</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="20" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="39" x="27" y="1018.5117">SPA</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="188.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="80" x="195.5" y="32.7617">MPT API</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="188.5" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="80" x="195.5" y="1018.5117">MPT API</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="340.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="126" x="347.5" y="32.7617">UserController</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="340.5" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="126" x="347.5" y="1018.5117">UserController</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="585.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="106" x="592.5" y="32.7617">UserService</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="585.5" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="106" x="592.5" y="1018.5117">UserService</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1167.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="88" x="1174.5" y="32.7617">UserRepo</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1167.5" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="88" x="1174.5" y="1018.5117">UserRepo</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1321" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="109" x="1328" y="32.7617">UserMapper</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1321" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="109" x="1328" y="1018.5117">UserMapper</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="1454" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="48" x="1461" y="32.7617">Email</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="1454" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="48" x="1461" y="1018.5117">Email</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1526" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="87" x="1533" y="32.7617">RoleRepo</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1526" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="87" x="1533" y="1018.5117">RoleRepo</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1637" y="5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="108" x="1644" y="32.7617">RoleMapper</text><rect fill="#E2E2F0" height="39.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="1637" y="990.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="108" x="1644" y="1018.5117">RoleMapper</text><rect fill="#FFFFFF" height="927.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="41.5" y="55.1563"/><rect fill="#FFFFFF" height="880.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="230.5" y="86.3125"/><rect fill="#FFFFFF" height="749.9688" style="stroke:#181818;stroke-width:1.0;" width="10" x="405.5" y="177.625"/><rect fill="#FFFFFF" height="619.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="640.5" y="268.9375"/><rect fill="#FFFFFF" height="91.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213.5" y="679.6563"/><rect fill="#FFFFFF" height="39.1563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377.5" y="601.3438"/><rect fill="#FFFFFF" height="39.1563" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377.5" y="810.125"/><polygon fill="#181818" points="218.5,82.3125,228.5,86.3125,218.5,90.3125,222.5,86.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="51.5" x2="224.5" y1="86.3125" y2="86.3125"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="160" x="58.5" y="79.918">POST(/api/users/)</text><line style="stroke:#181818;stroke-width:1.0;" x1="240.5" x2="282.5" y1="125.4688" y2="125.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="282.5" x2="282.5" y1="125.4688" y2="138.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="282.5" y1="138.4688" y2="138.4688"/><polygon fill="#181818" points="251.5,134.4688,241.5,138.4688,251.5,142.4688,247.5,138.4688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="144" x="247.5" y="119.0742">auth middleware</text><polygon fill="#181818" points="393.5,173.625,403.5,177.625,393.5,181.625,397.5,177.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="240.5" x2="399.5" y1="177.625" y2="177.625"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="140" x="247.5" y="171.2305">AddAsync(user)</text><line style="stroke:#181818;stroke-width:1.0;" x1="415.5" x2="457.5" y1="216.7813" y2="216.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="457.5" x2="457.5" y1="216.7813" y2="229.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.5" x2="457.5" y1="229.7813" y2="229.7813"/><polygon fill="#181818" points="426.5,225.7813,416.5,229.7813,426.5,233.7813,422.5,229.7813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="211" x="422.5" y="210.3867">permissions middleware</text><polygon fill="#181818" points="628.5,264.9375,638.5,268.9375,628.5,272.9375,632.5,268.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="415.5" x2="634.5" y1="268.9375" y2="268.9375"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="140" x="422.5" y="262.543">AddAsync(user)</text><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="692.5" y1="308.0938" y2="308.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="692.5" y1="308.0938" y2="321.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="651.5" x2="692.5" y1="321.0938" y2="321.0938"/><polygon fill="#181818" points="661.5,317.0938,651.5,321.0938,661.5,325.0938,657.5,321.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="368" x="657.5" y="301.6992">userByEmail = GetByEmailAsync(u.Email)</text><path d="M10,336.0938 L78,336.0938 L78,353.25 L68,363.25 L10,363.25 L10,336.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="638.6563" style="stroke:#000000;stroke-width:1.5;" width="1444" x="10" y="336.0938"/><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="23" x="25" y="357.8555">alt</text><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="165" x="93" y="358.8555">[Utilizador existe]</text><polygon fill="#181818" points="426.5,400.5625,416.5,404.5625,426.5,408.5625,422.5,404.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.5" x2="639.5" y1="404.5625" y2="404.5625"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="158" x="432.5" y="398.168">Utilizador já existe</text><polygon fill="#181818" points="251.5,439.7188,241.5,443.7188,251.5,447.7188,247.5,443.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="245.5" x2="404.5" y1="443.7188" y2="443.7188"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="141" x="257.5" y="437.3242">status code 400</text><polygon fill="#181818" points="62.5,478.875,52.5,482.875,62.5,486.875,58.5,482.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="229.5" y1="482.875" y2="482.875"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="43" x="68.5" y="476.4805">error</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1454" y1="491.875" y2="491.875"/><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="206" x="15" y="512.6367">[Utilizador não existe]</text><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="692.5" y1="549.1875" y2="549.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="692.5" y1="549.1875" y2="562.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="651.5" x2="692.5" y1="562.1875" y2="562.1875"/><polygon fill="#181818" points="661.5,558.1875,651.5,562.1875,661.5,566.1875,657.5,562.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="549" x="657.5" y="542.793">user.Password = HashPassword(u.Password, GenerateSalt())</text><polygon fill="#181818" points="1365.5,597.3438,1375.5,601.3438,1365.5,605.3438,1369.5,601.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="1371.5" y1="601.3438" y2="601.3438"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="135" x="657.5" y="594.9492">toDomain(user)</text><polygon fill="#181818" points="661.5,636.5,651.5,640.5,661.5,644.5,657.5,640.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="655.5" x2="1381.5" y1="640.5" y2="640.5"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="41" x="667.5" y="634.1055">User</text><polygon fill="#181818" points="1201.5,675.6563,1211.5,679.6563,1201.5,683.6563,1205.5,679.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="1207.5" y1="679.6563" y2="679.6563"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="140" x="657.5" y="673.2617">AddAsync(user)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1223.5" x2="1265.5" y1="718.8125" y2="718.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1265.5" x2="1265.5" y1="718.8125" y2="731.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1224.5" x2="1265.5" y1="731.8125" y2="731.8125"/><polygon fill="#181818" points="1234.5,727.8125,1224.5,731.8125,1234.5,735.8125,1230.5,731.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="140" x="1230.5" y="712.418">AddAsync(user)</text><polygon fill="#181818" points="661.5,766.9688,651.5,770.9688,661.5,774.9688,657.5,770.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="655.5" x2="1217.5" y1="770.9688" y2="770.9688"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="41" x="667.5" y="764.5742">User</text><polygon fill="#181818" points="1365.5,806.125,1375.5,810.125,1365.5,814.125,1369.5,810.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="650.5" x2="1371.5" y1="810.125" y2="810.125"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="114" x="657.5" y="803.7305">toDTO(User)</text><polygon fill="#181818" points="661.5,845.2813,651.5,849.2813,661.5,853.2813,657.5,849.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="655.5" x2="1381.5" y1="849.2813" y2="849.2813"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="83" x="667.5" y="842.8867">UserDTO</text><polygon fill="#181818" points="426.5,884.4375,416.5,888.4375,426.5,892.4375,422.5,888.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="420.5" x2="644.5" y1="888.4375" y2="888.4375"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="83" x="432.5" y="882.043">UserDTO</text><polygon fill="#181818" points="251.5,923.5938,241.5,927.5938,251.5,931.5938,247.5,927.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="245.5" x2="409.5" y1="927.5938" y2="927.5938"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="141" x="257.5" y="921.1992">status code 201</text><polygon fill="#181818" points="62.5,962.75,52.5,966.75,62.5,970.75,58.5,966.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="234.5" y1="966.75" y2="966.75"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="72" x="68.5" y="960.3555">sucesso</text><!--SRC=[bLFRJjmm47ttLunusfLQTa5zMgb8AGNQ1qH4TZ_0YgV2nR4ZZxCK_gRgf_1Z7JkNJGXTgP7YZ7sEZsUE9_IeRIszh8mh7r61mX-oCU7QsL3e5uJpjM0uw5BNqWOeycmoFxdDjv3btqz0KlnEmHsXlsGbxun1dpYNmPivgK2_roKcHk7tSy8zrYwXCPZ3jxAkkmCudE9NbTGcGIcQWlVEuA3j_HmSAVjA25a6lPS1an7ymiUBMFO6yhjYkrZ9MgyQpeTMomCrsY9u6BYo2GzGQQKCFacFq8FHcmraIcNqRCj551h99ET470zSJgtIHDfPcWZsBFRotuBHQC73G8pub-Va4do66mpTfDjzcYPBDi44s0Ljz8jKpWF-qXHG03-TMflSYFBpzVUOrgRNsq51XeQWT0hXqtgT6CcHc5UURG2zTrwW8HnhsjS_hXST7pwKSffBeYVd5HVpJT93F-LA-l03LsdHini55xLOBYTAVFSR2Ewhuxfjvrw41mTZhyK5_hRPngDZFwPLXHFYM3cstEnY9jAfp-DA38vkQGd7JazQxnMslLli_gCgvXylx73rxxDJnnrlWFFrsTjTRUFFkeAQ4edSMtRwsz0g8Vu2]--></g></svg>